# Template file for 'vkdoom'
pkgname=vkdoom
version=0.9
revision=1
_commit_hash="f193e2134de33cc9dfd96409b264a235575e8c3f"
archs="x86_64* aarch64*"
build_style=cmake
configure_args="-DINSTALL_PK3_PATH=share/vkdoom -DDYN_GTK=OFF -DDYN_OPENAL=OFF"
hostmakedepends="pkg-config tar xz"
makedepends="SDL2-devel gtk+3-devel libgomp-devel ZMusic-devel libopenal-devel libvpx-devel libwebp-devel"
short_desc="Advanced Doom source port focused around Vulkan and modern computers"
maintainer="SpidFightFR <spidfight@swisscows.email>"
license="GPL-3.0-or-later"
homepage="https://vkdoom.org/"
distfiles="https://github.com/dpjudas/VkDoom/archive/${_commit_hash}.tar.gz"
checksum="f111f86b506c7ce22f352509571f9814e2dd2cabd45e7b47479c8db5745c0240"
nocross=yes
conflicts="gzdoom"

#Fixes fts.h dependency on musl
if [ "$XBPS_TARGET_LIBC" = "musl" ]; then
	makedepends+=" musl-fts-devel"
fi
